# Kairos Project Roadmap and Next Steps

## Introduction

Kairos is an AI-driven internal platform that automates applicant evaluations by integrating a frontend Airtable extension for data collection with a backend MCP server for data enrichment (LinkedIn profiles, PDF resume extraction) and multi-axis scoring via LLMs.
Use this roadmap to track progress, capture context, and plan future development.

This document captures our current progress, in-progress work, and upcoming tasks for the Kairos applicant evaluation platform. Use this as a reference to continue development later.

---

## ‚úÖ Completed

- **Server logging standardized**  
  Migrated to centralized Python logging with a structured adapter; removed structlog usages; consistent masking and concise INFO/verbose DEBUG.
- **Frontend logging and logs split**  
  Use centralized `Logger`; Logs field now strips LinkedIn/PDF/Multi‚ÄëAxis blocks, which are written to their dedicated fields.
- **Multi‚ÄëAxis default + single‚Äëaxis behavior**  
  Default multi‚Äëaxis template is SPAR. When multi‚Äëaxis is OFF, generate single‚Äëaxis from SPAR‚Äôs first axis (General Promise).
- **PDF resume plugin reliability**  
  Fixed LLM fallback to pass provider API key; refined prompt (preserve UTF‚Äë8 diacritics, keep ‚ÄúPresent‚Äù, retain %, strict JSON, no hallucinations); added Unicode/percent normalization.
- **Evaluate flow polish**  
  Frontend prunes server payloads (no unnecessary fields); token refresh buffer increased to 5 minutes.

## ‚úÖ Completed (Today's Session)

- **UI fields verification**  
  Confirmed separate display fields for Logs, LinkedIn Data, PDF Resume Data, and Multi‚ÄëAxis scores.
- **Evaluate payload optimization**  
  Server receives only required fields; conditional enrichment/multi‚Äëaxis flags sent when needed.
- **Feature flag consolidation**  
  Verified flags are properly organized in Preset type; no redundant flags found.
- **Prompt system cleanup**  
  Replaced ACADEMIC_TEMPLATE references with SPAR_SINGLE_AXIS_TEMPLATE in frontend.
- **Documentation refresh**  
  Updated server README to reflect current API usage patterns.
- **Enrichment logs inclusion**  
  LinkedIn and PDF data fields now include enrichment logs alongside extracted data for better debugging.

## üìå Pending Tasks

1. **Minor Cleanup**  
   - Review for any remaining academic template references in test files
   - Validate SPAR template is working correctly in both single and multi-axis modes

3. **Docs**  
   - Refresh `front/README.md`, `server/README.md`, and plugin docs to match current behavior and settings.

4. **PDF resume robustness (next iteration)**  
   - Add DEBUG normalization summary counters (optional) and broaden tests across varied PDFs.  
   - Light post‚Äëprocessor for common date formats and safe unit retention (already partially done).

5. **Performance**  
   - Validate concurrency settings; consider improved batching once core flows are stable.

6. **Automated tests (after manual validation)**  
   - Unit tests: multi‚Äëaxis score extraction, enrichment parsing, prompt building.  
   - Integration: end‚Äëto‚Äëend evaluation (front ‚Üí server ‚Üí Airtable).  
   - CI wiring.

7. **Security (deferred until everything else is ready)**  
   - Keep per‚Äërequest key behavior. Revisit transport hardening (e.g., encrypted API key transport) and scope enforcement once feature work settles.  
   - Ensure PDF fallback uses the provider/model/options passed by the frontend for all LLM calls.

---

**Notes**  
- We prioritize manual testing until core functionality is stable, then add automated tests.  
- Comments should focus on *why* code exists; remove redundant or ‚Äúwhat‚Äù comments.  
- Keep logs at appropriate levels: `ERROR`/`WARN` for failures, `INFO` for high-level operations, `DEBUG`/`TRACE` for detailed diagnostics.

---

## Project context (quick reference)
- Frontend Airtable extension with server‚Äëmode toggle; can enrich via LinkedIn and PDF; supports multi‚Äëaxis (SPAR) and single‚Äëaxis (derived from SPAR first axis).
- Backend FastAPI MCP server with LLM proxy/evaluation; plugins for LinkedIn and PDF; JWT auth with 60‚Äëmin access tokens and client‚Äëside cache refresh.
- Multi‚Äëaxis: SPAR is default; academic kept only as legacy template reference in code, not default.

## Next session checklist
- Verify UI fields display: Logs vs LinkedIn Data vs Resume Data vs Multi‚ÄëAxis.  
- Confirm evaluate payload contains only required fields in server mode.  
- Pick 2‚Äì3 additional PDFs and validate normalization/prompt rules.  
- Proceed to small refactors and docs refresh; defer security transport hardening to the end.

*Last updated: December 2024*